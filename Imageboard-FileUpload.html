<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Imageboard.FileUpload</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">mageboard</span><ul class="links" id="page-menu"><li><a href="src/Imageboard.FileUpload.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Imageboard.FileUpload</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:saveFile">saveFile</a> :: MonadIO m =&gt; <a href="Imageboard-Types.html#t:File" title="Imageboard.Types">File</a> -&gt; <a href="Imageboard-FileUpload.html#t:FileData" title="Imageboard.FileUpload">FileData</a> -&gt; FilePath -&gt; ExceptT Text m <a href="Imageboard-Types.html#t:File" title="Imageboard.Types">File</a></li><li class="src short"><a href="#v:tryMkFile">tryMkFile</a> :: <a href="Imageboard-FileUpload.html#t:FileData" title="Imageboard.FileUpload">FileData</a> -&gt; Either Text (<a href="Imageboard-Types.html#t:File" title="Imageboard.Types">File</a>, FilePath)</li><li class="src short"><span class="keyword">type</span> <a href="#t:FileData">FileData</a> = FileInfo ByteString</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:saveFile" class="def">saveFile</a> :: MonadIO m =&gt; <a href="Imageboard-Types.html#t:File" title="Imageboard.Types">File</a> -&gt; <a href="Imageboard-FileUpload.html#t:FileData" title="Imageboard.FileUpload">FileData</a> -&gt; FilePath -&gt; ExceptT Text m <a href="Imageboard-Types.html#t:File" title="Imageboard.Types">File</a> <a href="src/Imageboard.FileUpload.html#saveFile" class="link">Source</a> <a href="#v:saveFile" class="selflink">#</a></p><div class="doc"><p>Try to save file, recognize its size and dimensions and generate thumbnail for it.</p></div></div><div class="top"><p class="src"><a id="v:tryMkFile" class="def">tryMkFile</a> :: <a href="Imageboard-FileUpload.html#t:FileData" title="Imageboard.FileUpload">FileData</a> -&gt; Either Text (<a href="Imageboard-Types.html#t:File" title="Imageboard.Types">File</a>, FilePath) <a href="src/Imageboard.FileUpload.html#tryMkFile" class="link">Source</a> <a href="#v:tryMkFile" class="selflink">#</a></p><div class="doc"><p>Validate file send by the user.
 This function recognizes format of sent file and its size
 and fails if they do not match predefined requirements.
 Otherwise, it returns new file and filename.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FileData" class="def">FileData</a> = FileInfo ByteString <a href="src/Imageboard.FileUpload.html#FileData" class="link">Source</a> <a href="#t:FileData" class="selflink">#</a></p><div class="doc"><p>Type representing file as received by HTTP server.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>